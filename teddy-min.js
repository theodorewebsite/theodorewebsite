function decrypt(a){var b=window.location.href.split("=")[1];b=forge.util.hexToBytes(b);var c=a.slice(0,32);console.log("IV txt");console.log(c);a=a.slice(32,a.length);c=forge.util.hexToBytes(c);a=forge.util.hexToBytes(a);b=forge.cipher.createDecipher("AES-CBC",b);b.start({iv:c});c=a.length;var d=0,e="";do{e+=b.output.getBytes();var f=forge.util.createBuffer(a.substr(d,65536));b.update(f);d+=65536}while(d<c);b.finish();e+=b.output.getBytes();return forge.util.encodeUtf8(e)}
var mySwiper=new Swiper(".swiper-container",{pagination:".swiper-pagination",paginationClickable:!0,autoHeight:!0,initialSlide:0});function loadTitle(){var a=new XMLHttpRequest;a.onreadystatechange=function(){if(4==this.readyState){var a=decrypt(this.responseText);document.getElementById("baniere").textContent=a}};a.open("GET","title.dat",!0);a.send()}
function loadMail(){var a=new XMLHttpRequest;a.onreadystatechange=function(){if(4==this.readyState){var a=decrypt(this.responseText);document.getElementById("lnk").href=a}};a.open("GET","address.dat",!0);a.send()}function loadLion(){var a=new XMLHttpRequest;a.onreadystatechange=function(){if(4==this.readyState){var a=decrypt(this.responseText);document.getElementById("lionPic").src=a}};a.open("GET","lion.dat",!0);a.send()}
function loadStuff(a){var b=new XMLHttpRequest;b.onreadystatechange=function(){if(4==this.readyState){var a=decrypt(this.responseText);a='<img class="swiper-slide" src='.concat(a,' style="border-radius : 5px;">');mySwiper.appendSlide(a)}};b.open("GET",a,!0);b.send()}var url=window.location.href,qparts=url.split("=");
if(2>qparts.length){var aff=document.createElement("P");aff.textContent="Vous n'avez pas scann\u00e9 le QR-code, ou votre application ne permet pas de le scanner correctement.";var dH=document.getElementById("divHeader"),cR=document.getElementById("centerRow"),sc=document.getElementById("sc"),dF=document.getElementById("divFooter");cR.removeChild(dH);cR.removeChild(dF);cR.removeChild(sc);cR.appendChild(aff)}else loadStuff("tof-gant.dat"),loadStuff("tof-cry.dat"),loadStuff("tof-nb.dat"),loadStuff("tof-canap.dat"),loadStuff("tof-debut.dat"),
loadLion(),loadTitle(),loadMail();
